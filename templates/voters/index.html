{% extends 'base_simple.html' %}

{% block title %}Voter Lists - Voice AI Campaign System{% endblock %}

{% block breadcrumbs %}
<a href="{{ url_for('admin.dashboard') }}" class="hover:text-primary-600">Dashboard</a>
<i class="fas fa-chevron-right text-xs text-gray-400 mx-2"></i>
<span class="text-gray-700">Voter Lists</span>
{% endblock %}

{% block content %}
<div class="mb-6">
    <div class="flex flex-wrap items-center justify-between gap-4">
        <h2 class="text-xl font-bold text-gray-800">Voter Lists</h2>
        <button type="button" class="inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors" onclick="document.getElementById('addVoterListModal').classList.remove('hidden')">
            <i class="fas fa-plus mr-2"></i> Upload New List
        </button>
    </div>
</div>

<!-- Voter Lists Table -->
<div class="bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden mb-8">
    <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
                <tr>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Region</th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Contacts</th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Last Updated</th>
                    <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                <!-- Kampala District Voters -->
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <div class="flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="ml-4">
                                <div class="text-sm font-medium text-gray-900">Kampala District Voters</div>
                                <div class="text-sm text-gray-500">Primary voter list</div>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">Kampala</div>
                        <div class="text-xs text-gray-500">Central Uganda</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">12,450 contacts</div>
                        <div class="text-xs text-gray-500">8,320 with mobile numbers</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                            Active
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                        2 days ago
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <div class="flex justify-end space-x-2">
                            <button class="text-primary-600 hover:text-primary-900" onclick="document.getElementById('viewVoterListModal').classList.remove('hidden')">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="text-primary-600 hover:text-primary-900">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="text-red-600 hover:text-red-900">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                
                <!-- Eastern Region Voters -->
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <div class="flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="ml-4">
                                <div class="text-sm font-medium text-gray-900">Eastern Region Voters</div>
                                <div class="text-sm text-gray-500">Regional voter list</div>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">Eastern Uganda</div>
                        <div class="text-xs text-gray-500">Multiple districts</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">9,845 contacts</div>
                        <div class="text-xs text-gray-500">6,210 with mobile numbers</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                            Active
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                        1 week ago
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <div class="flex justify-end space-x-2">
                            <button class="text-primary-600 hover:text-primary-900" onclick="document.getElementById('viewVoterListModal').classList.remove('hidden')">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="text-primary-600 hover:text-primary-900">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="text-red-600 hover:text-red-900">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                
                <!-- Youth Voters -->
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="flex items-center">
                            <div class="flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="ml-4">
                                <div class="text-sm font-medium text-gray-900">Youth Voters</div>
                                <div class="text-sm text-gray-500">Demographic segment</div>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">Nationwide</div>
                        <div class="text-xs text-gray-500">All regions</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">15,320 contacts</div>
                        <div class="text-xs text-gray-500">14,850 with mobile numbers</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                            Active
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                        3 days ago
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        <div class="flex justify-end space-x-2">
                            <button class="text-primary-600 hover:text-primary-900" onclick="document.getElementById('viewVoterListModal').classList.remove('hidden')">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="text-primary-600 hover:text-primary-900">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="text-red-600 hover:text-red-900">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- Upload Voter List Modal -->
<div id="addVoterListModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-lg shadow-xl max-w-md w-full p-6">
        <div class="flex justify-between items-center mb-4">
            <h3 class="text-lg font-semibold text-gray-800">Upload New Voter List</h3>
            <button type="button" class="text-gray-500 hover:text-gray-700" onclick="document.getElementById('addVoterListModal').classList.add('hidden')">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <form>
            <div class="mb-4">
                <label for="listName" class="block text-sm font-medium text-gray-700 mb-1">List Name</label>
                <input type="text" id="listName" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Western Region Voters">
            </div>
            
            <div class="mb-4">
                <label for="listRegion" class="block text-sm font-medium text-gray-700 mb-1">Region</label>
                <select id="listRegion" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                    <option value="">Select Region</option>
                    <option value="kampala">Kampala</option>
                    <option value="central">Central Uganda</option>
                    <option value="eastern">Eastern Uganda</option>
                    <option value="western">Western Uganda</option>
                    <option value="northern">Northern Uganda</option>
                    <option value="nationwide">Nationwide</option>
                </select>
            </div>
            
            <div class="mb-4">
                <label for="listDescription" class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                <textarea id="listDescription" rows="2" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500" placeholder="Brief description of this voter list"></textarea>
            </div>
            
            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-1">Upload File</label>
                <div class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md">
                    <div class="space-y-1 text-center">
                        <i class="fas fa-file-csv text-gray-400 text-3xl mb-2"></i>
                        <div class="flex text-sm text-gray-600">
                            <label for="file-upload" class="relative cursor-pointer bg-white rounded-md font-medium text-primary-600 hover:text-primary-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-primary-500">
                                <span>Upload a file</span>
                                <input id="file-upload" name="file-upload" type="file" class="sr-only">
                            </label>
                            <p class="pl-1">or drag and drop</p>
                        </div>
                        <p class="text-xs text-gray-500">
                            CSV, Excel, or TXT up to 10MB
                        </p>
                    </div>
                </div>
            </div>
            
            <div class="flex items-center mb-4">
                <input type="checkbox" id="listActive" class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded" checked>
                <label for="listActive" class="ml-2 block text-sm text-gray-700">Active</label>
            </div>
            
            <div class="flex justify-end space-x-3">
                <button type="button" class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50" onclick="document.getElementById('addVoterListModal').classList.add('hidden')">Cancel</button>
                <button type="submit" class="px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700">Upload List</button>
            </div>
        </form>
    </div>
</div>

<!-- View Voter List Modal -->
<div id="viewVoterListModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full p-6">
        <div class="flex justify-between items-center mb-4">
            <h3 class="text-lg font-semibold text-gray-800">Kampala District Voters</h3>
            <button type="button" class="text-gray-500 hover:text-gray-700" onclick="document.getElementById('viewVoterListModal').classList.add('hidden')">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="mb-6">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-4">
                <div>
                    <p class="text-sm text-gray-500">Region: <span class="font-medium text-gray-700">Kampala, Central Uganda</span></p>
                    <p class="text-sm text-gray-500">Total Contacts: <span class="font-medium text-gray-700">12,450</span></p>
                </div>
                <div>
                    <p class="text-sm text-gray-500">Status: <span class="font-medium text-green-600">Active</span></p>
                    <p class="text-sm text-gray-500">Last Updated: <span class="font-medium text-gray-700">April 18, 2025</span></p>
                </div>
            </div>
            
            <p class="text-sm text-gray-600 mb-4">Primary voter list for Kampala district containing registered voters from all divisions. This list includes contact information and demographic data for targeted outreach.</p>
            
            <div class="flex flex-wrap gap-2 mb-4">
                <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">12,450 total contacts</span>
                <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">8,320 with mobile numbers</span>
                <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">4,130 with landlines</span>
                <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">10,280 with addresses</span>
            </div>
        </div>
        
        <!-- Sample Data Table -->
        <div class="mb-6">
            <h4 class="text-sm font-medium text-gray-700 mb-2">Sample Data (First 5 Records)</h4>
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                            <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Phone</th>
                            <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Division</th>
                            <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Age</th>
                            <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Gender</th>
                            <th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Language</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                        <tr>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-900">John Mukasa</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">+256 701 234 567</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">Central</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">34</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">Male</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">English, Luganda</td>
                        </tr>
                        <tr>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-900">Sarah Namukasa</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">+256 772 345 678</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">Nakawa</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">29</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">Female</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">Luganda</td>
                        </tr>
                        <tr>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-900">David Ochieng</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">+256 712 456 789</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">Makindye</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">42</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">Male</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">English, Swahili</td>
                        </tr>
                        <tr>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-900">Grace Atim</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">+256 782 567 890</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">Kawempe</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">38</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">Female</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">English</td>
                        </tr>
                        <tr>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-900">Robert Kigongo</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">+256 703 678 901</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">Rubaga</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">45</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">Male</td>
                            <td class="px-4 py-2 whitespace-nowrap text-sm text-gray-500">Luganda</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="flex justify-between">
            <div>
                <button class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50">
                    <i class="fas fa-download mr-2"></i> Export
                </button>
            </div>
            <div class="flex space-x-3">
                <button class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50" onclick="document.getElementById('viewVoterListModal').classList.add('hidden')">Close</button>
                <button class="px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700">
                    <i class="fas fa-edit mr-2"></i> Edit List
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}
