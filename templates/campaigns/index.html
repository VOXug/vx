{% extends 'base_simple.html' %}

{% block title %}Campaign Management - Voice AI Campaign System{% endblock %}

{% block breadcrumbs %}
<a href="{{ url_for('admin.dashboard') }}" class="hover:text-primary-600">Dashboard</a>
<i class="fas fa-chevron-right text-xs text-gray-400 mx-2"></i>
<span class="text-gray-700">Campaign Management</span>
{% endblock %}

{% block content %}
<div class="mb-6">
    <div class="flex flex-wrap items-center justify-between gap-4">
        <h2 class="text-xl font-bold text-gray-800">Campaign Management</h2>
        <button type="button" class="inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors" onclick="document.getElementById('createCampaignModal').classList.remove('hidden')">
            <i class="fas fa-plus mr-2"></i> Create New Campaign
        </button>
    </div>
</div>

<!-- Campaign Stats -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
    <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow">
        <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold text-gray-700">Active Campaigns</h3>
            <span class="p-2 rounded-full bg-green-100 text-green-600">
                <i class="fas fa-play-circle"></i>
            </span>
        </div>
        <div class="flex items-end">
            <span class="text-3xl font-bold text-gray-800">2</span>
            <span class="text-sm text-gray-500 ml-2 mb-1">campaigns</span>
        </div>
    </div>
    
    <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow">
        <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold text-gray-700">Total Calls</h3>
            <span class="p-2 rounded-full bg-blue-100 text-blue-600">
                <i class="fas fa-phone-alt"></i>
            </span>
        </div>
        <div class="flex items-end">
            <span class="text-3xl font-bold text-gray-800">5,664</span>
            <span class="text-sm text-gray-500 ml-2 mb-1">calls</span>
        </div>
    </div>
    
    <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-100 hover:shadow-md transition-shadow">
        <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold text-gray-700">Conversion Rate</h3>
            <span class="p-2 rounded-full bg-purple-100 text-purple-600">
                <i class="fas fa-chart-pie"></i>
            </span>
        </div>
        <div class="flex items-end">
            <span class="text-3xl font-bold text-gray-800">78%</span>
            <span class="text-sm text-gray-500 ml-2 mb-1">positive</span>
        </div>
    </div>
</div>

<!-- Campaign Tabs -->
<div class="bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden mb-8">
    <div class="border-b border-gray-200">
        <nav class="flex -mb-px">
            <a href="#" class="py-4 px-6 border-b-2 border-primary-500 text-primary-600 font-medium text-sm">
                Active Campaigns
            </a>
            <a href="#" class="py-4 px-6 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 font-medium text-sm">
                Scheduled
            </a>
            <a href="#" class="py-4 px-6 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 font-medium text-sm">
                Completed
            </a>
            <a href="#" class="py-4 px-6 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 font-medium text-sm">
                Drafts
            </a>
        </nav>
    </div>
    
    <div class="p-6">
        <!-- Active Campaigns -->
        <div class="space-y-6">
            <!-- Presidential Introduction Campaign -->
            <div class="border border-gray-200 rounded-lg overflow-hidden">
                <div class="bg-gray-50 p-4 flex items-center justify-between">
                    <div class="flex items-center">
                        <div class="w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 mr-3">
                            <i class="fas fa-bullhorn"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800">Presidential Introduction</h3>
                            <p class="text-sm text-gray-500">Started: Apr 18, 2025</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">Active</span>
                        <button class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-ellipsis-v"></i>
                        </button>
                    </div>
                </div>
                
                <div class="p-4 border-t border-gray-200">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div>
                            <p class="text-xs text-gray-500 mb-1">Target Audience</p>
                            <p class="text-sm font-medium text-gray-700">Kampala Region</p>
                        </div>
                        <div>
                            <p class="text-xs text-gray-500 mb-1">Voice Model</p>
                            <p class="text-sm font-medium text-gray-700">Presidential (Multi-lingual)</p>
                        </div>
                        <div>
                            <p class="text-xs text-gray-500 mb-1">Progress</p>
                            <div class="flex items-center">
                                <div class="flex-1 mr-2">
                                    <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
                                        <div class="h-full bg-primary-600 rounded-full" style="width: 49%"></div>
                                    </div>
                                </div>
                                <span class="text-xs font-medium text-gray-700">49%</span>
                            </div>
                        </div>
                        <div>
                            <p class="text-xs text-gray-500 mb-1">Call Statistics</p>
                            <p class="text-sm font-medium text-gray-700">2,450 / 5,000 calls</p>
                        </div>
                    </div>
                </div>
                
                <div class="p-4 border-t border-gray-200 bg-gray-50 flex justify-between items-center">
                    <div class="flex space-x-2">
                        <span class="text-xs text-gray-500 flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-1"></i> Success Rate: 78%
                        </span>
                        <span class="text-xs text-gray-500 flex items-center">
                            <i class="fas fa-clock text-blue-500 mr-1"></i> Avg. Duration: 2m 15s
                        </span>
                        <span class="text-xs text-gray-500 flex items-center">
                            <i class="fas fa-language text-purple-500 mr-1"></i> Languages: 4
                        </span>
                    </div>
                    
                    <div class="flex space-x-2">
                        <button class="px-3 py-1.5 bg-primary-50 text-primary-600 rounded text-xs font-medium hover:bg-primary-100 transition-colors">
                            <i class="fas fa-chart-bar mr-1"></i> Analytics
                        </button>
                        <button class="px-3 py-1.5 bg-yellow-50 text-yellow-600 rounded text-xs font-medium hover:bg-yellow-100 transition-colors">
                            <i class="fas fa-pause mr-1"></i> Pause
                        </button>
                        <button class="px-3 py-1.5 bg-primary-50 text-primary-600 rounded text-xs font-medium hover:bg-primary-100 transition-colors">
                            <i class="fas fa-cog mr-1"></i> Settings
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Voter Registration Campaign -->
            <div class="border border-gray-200 rounded-lg overflow-hidden">
                <div class="bg-gray-50 p-4 flex items-center justify-between">
                    <div class="flex items-center">
                        <div class="w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 mr-3">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800">Voter Registration</h3>
                            <p class="text-sm text-gray-500">Started: Apr 15, 2025</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">Active</span>
                        <button class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-ellipsis-v"></i>
                        </button>
                    </div>
                </div>
                
                <div class="p-4 border-t border-gray-200">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div>
                            <p class="text-xs text-gray-500 mb-1">Target Audience</p>
                            <p class="text-sm font-medium text-gray-700">Western Uganda</p>
                        </div>
                        <div>
                            <p class="text-xs text-gray-500 mb-1">Voice Model</p>
                            <p class="text-sm font-medium text-gray-700">Presidential (Multi-lingual)</p>
                        </div>
                        <div>
                            <p class="text-xs text-gray-500 mb-1">Progress</p>
                            <div class="flex items-center">
                                <div class="flex-1 mr-2">
                                    <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
                                        <div class="h-full bg-primary-600 rounded-full" style="width: 80%"></div>
                                    </div>
                                </div>
                                <span class="text-xs font-medium text-gray-700">80%</span>
                            </div>
                        </div>
                        <div>
                            <p class="text-xs text-gray-500 mb-1">Call Statistics</p>
                            <p class="text-sm font-medium text-gray-700">3,214 / 4,000 calls</p>
                        </div>
                    </div>
                </div>
                
                <div class="p-4 border-t border-gray-200 bg-gray-50 flex justify-between items-center">
                    <div class="flex space-x-2">
                        <span class="text-xs text-gray-500 flex items-center">
                            <i class="fas fa-check-circle text-green-500 mr-1"></i> Success Rate: 82%
                        </span>
                        <span class="text-xs text-gray-500 flex items-center">
                            <i class="fas fa-clock text-blue-500 mr-1"></i> Avg. Duration: 1m 45s
                        </span>
                        <span class="text-xs text-gray-500 flex items-center">
                            <i class="fas fa-language text-purple-500 mr-1"></i> Languages: 3
                        </span>
                    </div>
                    
                    <div class="flex space-x-2">
                        <button class="px-3 py-1.5 bg-primary-50 text-primary-600 rounded text-xs font-medium hover:bg-primary-100 transition-colors">
                            <i class="fas fa-chart-bar mr-1"></i> Analytics
                        </button>
                        <button class="px-3 py-1.5 bg-yellow-50 text-yellow-600 rounded text-xs font-medium hover:bg-yellow-100 transition-colors">
                            <i class="fas fa-pause mr-1"></i> Pause
                        </button>
                        <button class="px-3 py-1.5 bg-primary-50 text-primary-600 rounded text-xs font-medium hover:bg-primary-100 transition-colors">
                            <i class="fas fa-cog mr-1"></i> Settings
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Create Campaign Modal -->
<div id="createCampaignModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full p-6">
        <div class="flex justify-between items-center mb-4">
            <h3 class="text-lg font-semibold text-gray-800">Create New Campaign</h3>
            <button type="button" class="text-gray-500 hover:text-gray-700" onclick="document.getElementById('createCampaignModal').classList.add('hidden')">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="border-b border-gray-200 pb-4 mb-4">
            <div class="flex space-x-4">
                <div class="w-8 h-8 rounded-full bg-primary-600 text-white flex items-center justify-center">
                    1
                </div>
                <div>
                    <h4 class="font-medium text-gray-800">Campaign Details</h4>
                    <p class="text-sm text-gray-500">Basic information about your campaign</p>
                </div>
            </div>
        </div>
        
        <form>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <div>
                    <label for="campaignName" class="block text-sm font-medium text-gray-700 mb-1">Campaign Name</label>
                    <input type="text" id="campaignName" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., Presidential Introduction">
                </div>
                
                <div>
                    <label for="campaignType" class="block text-sm font-medium text-gray-700 mb-1">Campaign Type</label>
                    <select id="campaignType" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <option value="">Select Campaign Type</option>
                        <option value="introduction">Introduction</option>
                        <option value="registration">Voter Registration</option>
                        <option value="reminder">Event Reminder</option>
                        <option value="survey">Opinion Survey</option>
                        <option value="custom">Custom</option>
                    </select>
                </div>
                
                <div>
                    <label for="startDate" class="block text-sm font-medium text-gray-700 mb-1">Start Date</label>
                    <input type="date" id="startDate" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                </div>
                
                <div>
                    <label for="endDate" class="block text-sm font-medium text-gray-700 mb-1">End Date</label>
                    <input type="date" id="endDate" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                </div>
                
                <div class="md:col-span-2">
                    <label for="campaignDescription" class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                    <textarea id="campaignDescription" rows="3" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500" placeholder="Describe the purpose of this campaign"></textarea>
                </div>
            </div>
            
            <div class="border-t border-b border-gray-200 py-4 mb-4">
                <div class="flex space-x-4">
                    <div class="w-8 h-8 rounded-full bg-primary-600 text-white flex items-center justify-center">
                        2
                    </div>
                    <div>
                        <h4 class="font-medium text-gray-800">Target Audience</h4>
                        <p class="text-sm text-gray-500">Select who will receive calls from this campaign</p>
                    </div>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <div>
                    <label for="audienceSource" class="block text-sm font-medium text-gray-700 mb-1">Audience Source</label>
                    <select id="audienceSource" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <option value="">Select Source</option>
                        <option value="existing">Existing Voter List</option>
                        <option value="upload">Upload New List</option>
                        <option value="api">Import from API</option>
                    </select>
                </div>
                
                <div>
                    <label for="audienceSize" class="block text-sm font-medium text-gray-700 mb-1">Audience Size</label>
                    <input type="number" id="audienceSize" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500" placeholder="e.g., 5000">
                </div>
                
                <div>
                    <label for="region" class="block text-sm font-medium text-gray-700 mb-1">Region</label>
                    <select id="region" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <option value="">Select Region</option>
                        <option value="kampala">Kampala</option>
                        <option value="central">Central Uganda</option>
                        <option value="eastern">Eastern Uganda</option>
                        <option value="western">Western Uganda</option>
                        <option value="northern">Northern Uganda</option>
                        <option value="all">All Regions</option>
                    </select>
                </div>
                
                <div>
                    <label for="languages" class="block text-sm font-medium text-gray-700 mb-1">Languages</label>
                    <select id="languages" multiple class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500" size="4">
                        <option value="en">English</option>
                        <option value="lg">Luganda</option>
                        <option value="sw">Swahili</option>
                        <option value="nyn">Runyankole</option>
                    </select>
                    <p class="text-xs text-gray-500 mt-1">Hold Ctrl/Cmd to select multiple languages</p>
                </div>
            </div>
            
            <div class="border-t border-b border-gray-200 py-4 mb-4">
                <div class="flex space-x-4">
                    <div class="w-8 h-8 rounded-full bg-primary-600 text-white flex items-center justify-center">
                        3
                    </div>
                    <div>
                        <h4 class="font-medium text-gray-800">Voice & Conversation</h4>
                        <p class="text-sm text-gray-500">Select voice model and conversation flow</p>
                    </div>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <div>
                    <label for="voiceModel" class="block text-sm font-medium text-gray-700 mb-1">Voice Model</label>
                    <select id="voiceModel" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <option value="">Select Voice Model</option>
                        <option value="presidential-en">Presidential Voice (English)</option>
                        <option value="presidential-lg">Presidential Voice (Luganda)</option>
                        <option value="presidential-sw">Presidential Voice (Swahili)</option>
                        <option value="presidential-nyn">Presidential Voice (Runyankole)</option>
                        <option value="presidential-multi">Presidential Voice (Multi-lingual)</option>
                    </select>
                </div>
                
                <div>
                    <label for="conversationFlow" class="block text-sm font-medium text-gray-700 mb-1">Conversation Flow</label>
                    <select id="conversationFlow" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <option value="">Select Conversation Flow</option>
                        <option value="introduction">Presidential Introduction</option>
                        <option value="registration">Voter Registration</option>
                        <option value="reminder">Event Reminder</option>
                        <option value="survey">Opinion Survey</option>
                        <option value="custom">Custom Flow</option>
                    </select>
                </div>
                
                <div class="md:col-span-2">
                    <label for="callSettings" class="block text-sm font-medium text-gray-700 mb-1">Call Settings</label>
                    <div class="bg-gray-50 rounded-md p-4 space-y-3">
                        <div class="flex items-center justify-between">
                            <label for="maxDuration" class="text-sm text-gray-700">Maximum Call Duration</label>
                            <div class="flex items-center">
                                <input type="number" id="maxDuration" class="w-16 border border-gray-300 rounded-md px-2 py-1 text-sm" value="5">
                                <span class="ml-1 text-sm text-gray-500">minutes</span>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <label for="retryAttempts" class="text-sm text-gray-700">Retry Attempts</label>
                            <div class="flex items-center">
                                <input type="number" id="retryAttempts" class="w-16 border border-gray-300 rounded-md px-2 py-1 text-sm" value="3">
                                <span class="ml-1 text-sm text-gray-500">attempts</span>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <label for="callsPerDay" class="text-sm text-gray-700">Calls Per Day</label>
                            <div class="flex items-center">
                                <input type="number" id="callsPerDay" class="w-16 border border-gray-300 rounded-md px-2 py-1 text-sm" value="1000">
                                <span class="ml-1 text-sm text-gray-500">calls</span>
                            </div>
                        </div>
                        
                        <div class="flex items-center">
                            <input type="checkbox" id="recordCalls" class="h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded">
                            <label for="recordCalls" class="ml-2 block text-sm text-gray-700">Record calls for quality and training</label>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="flex justify-end space-x-3 mt-8">
                <button type="button" class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50" onclick="document.getElementById('createCampaignModal').classList.add('hidden')">Cancel</button>
                <button type="button" class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300">Save as Draft</button>
                <button type="submit" class="px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700">Create Campaign</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
